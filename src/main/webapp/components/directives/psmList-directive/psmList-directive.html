<div class="grid_24 clearfix spinning-wheel" ng-if="totalResults === undefined">
    <span us-spinner="{radius:10, width:3, length: 10, left: '0%', color:'#996a44'}"></span><h3 class="spinning-wheel-text">Searching for results ... </h3>
</div>

<!--Results-->
<div ng-show="totalResults !== undefined">

    <div ng-if="totalResults > 0">
        <div class="grid_24 line-bottom">
            <prc-psm-list-paging total-results="totalResults"></prc-psm-list-paging>
        </div>

        <div class="grid_24 omega">
            <table class="table table_border">
                <thead>
                <tr>
                    <th>
                        <span tooltip="Peptide sequence plus its modifications" tooltip-placement="bottom">Peptide</span>
                    </th>
                    <th>
                        <span tooltip="Project accession" tooltip-placement="bottom">Project</span>
                    </th>
                    <th>
                        <span tooltip="Species" tooltip-placement="bottom">Species</span>
                    </th>
                    <th>
                        <span tooltip="PSM Ratio within the cluster" tooltip-placement="bottom">Ratio</span>
                    </th>
                    <th>
                        <span tooltip="Delta m/z" tooltip-placement="bottom">Delta m/z</span>
                    </th>
                    <th>
                        <span tooltip="Search engine used" tooltip-placement="bottom">Search engine</span>
                    </th>
                    <th>
                        <span tooltip="Search engine score" tooltip-placement="bottom">Search engine score</span>
                    </th>
                    <th>
                        <span tooltip="Search database used" tooltip-placement="bottom">Search database</span>
                    </th>
                    <th>
                        <span tooltip="Protein identified" tooltip-placement="bottom">Protein accession</span>
                    </th>
                </tr>
                </thead>
                <tr ng-repeat="psm in psms">
                    <td>
                        <span class="grid_24">
                            <a ng-href="//www.ebi.ac.uk/pride/archive/projects/{{psm.projectAccession}}/psms?q={{psm.archivePSMId}}" target="_blank">
                                <prc-peptide-sequence-viewer
                                        sequence="psm.sequence"
                                        modifications="psm.modificationNames">
                                </prc-peptide-sequence-viewer>
                            </a>
                        </span>
                    </td>
                    <td>
                        <a ng-href="//www.ebi.ac.uk/pride/archive/projects/{{psm.projectAccession}}" target="_blank">{{psm.projectAccession}}</a>
                    </td>
                    <td>
                        {{psm.species}}
                    </td>
                    <td>
                        {{100 * psm.psmRatio | number:1}}%
                    </td>
                    <td>
                        {{psm.deltaMZ | number: 2}}
                    </td>
                    <td>
                        {{psm.searchEngine}}
                    </td>
                    <td>
                        {{psm.searchEngineScores | number : 2}}
                    </td>
                    <td>
                        {{psm.searchDatabase}}
                    </td>
                    <td>
                        {{psm.proteinAccession}}
                    </td>
                </tr>
            </table>
        </div>
    </div>
</div>