<!--Results-->
<div class="clusters">
    <div class="grid_24 line-bottom">
        <prc-cluster-list-paging total-results="totalResults"></prc-cluster-list-paging>
    </div>
    <div class="grid_24">
        <div class="grid_6 alpha">

            <h4>Filter by</h4>

            <section ng-if="speciesFacets.length > 0" class="facet-box">
                <h6>Species ({{speciesFacets.length}})</h6>
                <p><input type="text" ng-model="spFilter" class="facet-input"></p>
                <div class="scroll-area">
                    <div ng-repeat="species in speciesFacets | filter:spFilter">
                        <label class="checkbox">
                            <input type="checkbox" ng-model="species.selected" data-ng-click="updateSpeciesFilters(species)" />
                            {{species.name}} <span>({{species.count}})</span>
                        </label>
                    </div>
                </div>
            </section>

            <section ng-if="modFacets.length > 0" class="facet-box">
                <h6>Modifications ({{modFacets.length}})</h6>
                <p><input type="text" ng-model="mFilter" class="facet-input"></p>
                <div class="scroll-area">
                    <div data-ng-repeat="mods in modFacets | filter:mFilter">
                        <label class="checkbox" ng-model="mods.selected" data-ng-click="updateModFilters(mods)">
                            <input type="checkbox" data-ng-model="mods.selected"/>
                            {{mods.name}} <span>({{ mods.count}})</span>
                        </label>
                    </div>
                </div>
            </section>
        </div>
        <div class="grid_15 omega">
            <div class="animate-repeat" ng-repeat="cluster in clusters">
                <section class="grid_24 cluster-summary {{cluster.clusterQuality}}">
                    <a href="#/cluster/{{cluster.id}}">
                        <!--<span class="grid_24">-->
                        <!--<h3>Cluster {{cluster.id}}</h3>-->
                        <!--</span>-->
                    <span class="grid_24">
                        <h4>
                            <prc-peptide-sequence-viewer
                                    sequence="cluster.sequence"
                                    modifications="cluster.modificationNames"
                                    charge="cluster.averagePrecursorCharge"
                                    mz="cluster.averagePrecursorMz | number:3">
                            </prc-peptide-sequence-viewer>
                        </h4>
                    </span>
                    <span class="grid_24">
                        <span class="grid_4"><h6>#Spectra</h6><p>{{cluster.totalNumberOfSpectra}}</p></span>
                        <span class="grid_4"><h6>Max ratio</h6><p>{{100 * cluster.maxRatio | number:2}}%</p></span>
                        <!--<span class="grid_4"><h6>Precursor</h6><p>{{cluster.averagePrecursorMz | number:2}} /{{cluster.averagePrecursorCharge |-->
                            <!--number:0}}</p></span>-->
                        <span class="grid_4"><h6>#Projects</h6><p>{{cluster.totalNumberOfProjects}}</p></span>
                        <span class="grid_4"><h6>#Species</h6><p>{{cluster.totalNumberOfSpecies}}</p></span>
                        <!--<span class="grid_4"><h6>#Modifications</h6><p>{{cluster.totalNumberOfModifications}}</p></span>-->
                    </span>

                    </a>
                </section>
            </div>
        </div>
    </div>
</div>
